<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>命令模式</title>
  </head>
  <body>
    <script>
      /**
       * 定义：用来对方法调用进行参数化处理和传送，经过这样处理过的方法调用可以在任何需要的时候执行。
       * 需求：有时候需要向某些对象发送请求，但是并不知道请求的接收者是谁，也不知道被请求的操作是什么，此时希望用一种松耦合的方式来设计软件，使得请求发送者和请求接收者能够消除彼此之间的耦合关系。
       * 实现：将函数的调用、请求和操作封装成一个单一的对象。
       */

      var setCommand = function (button, func) {
        button.onclick = function () {
          func();
        };
      };
      var MenuBar = {
        refersh: function () {
          alert("刷新菜单界面");
        },
      };
      var SubMenu = {
        add: function () {
          alert("增加菜单");
        },
      };
      // 刷新菜单
      var RefreshMenuBarCommand = function (receiver) {
        return function () {
          receiver.refersh();
        };
      };
      // 增加菜单
      var AddSubMenuCommand = function (receiver) {
        return function () {
          receiver.add();
        };
      };
      var refershMenuBarCommand = RefreshMenuBarCommand(MenuBar);
      // 增加菜单
      var addSubMenuCommand = AddSubMenuCommand(SubMenu);
      setCommand(b1, refershMenuBarCommand);
      setCommand(b2, AddSubMenuCommand);
    </script>
  </body>
</html>
